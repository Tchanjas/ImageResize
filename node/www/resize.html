<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Image Resize</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/stylesheet.css">
  <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>
  <header>
    <div id ="logo">
      <a href="./"><img src="images/logo.png"></a>
    </div>
    <nav>
      <ul>
        <li><a href="./">Home</a></li>
        <li><a href="#">About</a></li>
      </ul>
    </nav>
  </header>
  <div id="main">
    <form onsubmit="convertToBase64()" action="resize" method="GET">
	    <p>
	    	<label for="url">URL (required):</label>
	    	<input placeholder="http://example.com/image.png" id="url" name="url" type="text" autofocus required>
	    </p>
	    <p>
	    	<label for="width">Width (required):</label>
	    	<input placeholder="100" id="width" name="width" type="number" required>
	    </p>
	    <p>
	    	<label for="height">Height (required):</label>
	    	<input placeholder="100" id="height" name="height" type="number" required>
	    </p>
      <br />
      <div class="options"><h3>Options:</h3> 
        <p>
          <label for="angle">Rotate:</label>
          <input placeholder="Insert an angle to rotate it - only 0, 90, 180 or 270 are allowed" id="angle" name="angle" type="number">
        </p>
        <p>
          <label>Flip?<input id="flip" name="flip" type="checkbox"></label>
          <label>Flop?<input id="flop" name="flop" type="checkbox"></label>
          <label>Sharpen?<input id="sharpen" name="sharpen" type="checkbox"></label>
          <label>Blur?<input id="blur" name="blur" type="checkbox"></label>
          <label>Negate?<input id="negate" name="negate" type="checkbox"></label>
          <label>Normalize?<input id="normalize" name="normalize" type="checkbox"></label>
        </p>
      </div>
	    <p><input class="button button-dark" value="Submit" type="submit"></p>
    </form>
  </div>
  <script type="text/javascript">
	  function convertToBase64() {
      var value = document.getElementById("url").value;
      var base64Matcher = new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$");
      
      // check if the url is already likely to be base64 encoded
      if (base64Matcher.test(value)) {
        document.getElementById("url").value = btoa(document.getElementById("url").value);
      }
	  }
  </script>
</body>
</html>
